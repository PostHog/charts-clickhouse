# Source: posthog/templates/ingress.yaml
apiVersion: networking.k8s.io/v1beta1

kind: Ingress
metadata:
 name: posthog
 labels:
    app: posthog
    chart: "posthog-3.9.0"
    release: "posthog"
    heritage: "Helm"
 annotations:
spec:
  rules:
    - http:
        paths:
          - pathType: Prefix
            path: "/"
            backend:
              serviceName: posthog-web
              servicePort: 8000
          - pathType: Prefix
            path: "/batch"
            backend: &INGESTION
              serviceName: posthog-events
              servicePort: 8000
          - pathType: Prefix
            path: "/capture"
            backend: *INGESTION
          - pathType: Prefix
            path: "/decide"
            backend: *INGESTION
          - pathType: Prefix
            path: "/e"
            backend: *INGESTION
          - pathType: Prefix
            path: "/track"
            backend: *INGESTION
          - pathType: Prefix
            path: "/s"
            backend: *INGESTION
---
# Source: posthog/templates/clickhouse_instance.yaml
apiVersion: "clickhouse.altinity.com/v1"
kind: "ClickHouseInstallation"
metadata:
  name: "posthog"
spec:
  defaults:
    templates:
      dataVolumeClaimTemplate: data-volumeclaim-template
